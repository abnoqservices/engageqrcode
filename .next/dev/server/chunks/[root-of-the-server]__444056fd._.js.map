{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/D/next/engage-update/app/api/thumbnail/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport puppeteer from \"puppeteer\";\n\nexport async function GET(req: Request) {\n  const { searchParams } = new URL(req.url);\n  const url = searchParams.get(\"url\");\n\n  if (!url) {\n    return NextResponse.json({ error: \"Missing URL\" }, { status: 400 });\n  }\n\n  try {\n    const browser = await puppeteer.launch({\n      args: [\"--no-sandbox\", \"--disable-setuid-sandbox\"]\n    });\n\n    const page = await browser.newPage();\n    await page.goto(url, { waitUntil: \"networkidle0\" });\n\n    const screenshot = await page.screenshot({\n      type: \"png\",\n      fullPage: true\n    });\n\n    await browser.close();\n\n    return new NextResponse(screenshot, {\n      headers: { \"Content-Type\": \"image/png\" }\n    });\n\n  } catch (error) {\n    console.error(error);\n    return NextResponse.json({ error: \"Screenshot failed\" }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;;;;;;;AAGO,eAAe,IAAI,GAAY;IACpC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,IAAI,GAAG;IACxC,MAAM,MAAM,aAAa,GAAG,CAAC;IAE7B,IAAI,CAAC,KAAK;QACR,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAc,GAAG;YAAE,QAAQ;QAAI;IACnE;IAEA,IAAI;QACF,MAAM,UAAU,MAAM,UAAU,MAAM,CAAC;YACrC,MAAM;gBAAC;gBAAgB;aAA2B;QACpD;QAEA,MAAM,OAAO,MAAM,QAAQ,OAAO;QAClC,MAAM,KAAK,IAAI,CAAC,KAAK;YAAE,WAAW;QAAe;QAEjD,MAAM,aAAa,MAAM,KAAK,UAAU,CAAC;YACvC,MAAM;YACN,UAAU;QACZ;QAEA,MAAM,QAAQ,KAAK;QAEnB,OAAO,IAAI,gJAAY,CAAC,YAAY;YAClC,SAAS;gBAAE,gBAAgB;YAAY;QACzC;IAEF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAoB,GAAG;YAAE,QAAQ;QAAI;IACzE;AACF"}}]
}